<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debate 1</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="header.css">
    <link rel="stylesheet" type="text/css" href="footer.css">
</head>

<body class="overlay">
    <style>
        .container {
                margin: 20px auto;
                border: 1px solid #efe7da;
                padding: 20px;
                box-sizing: border-box;
                background-color: #0E4749;
                max-width: 800px;
                border-radius: 10px;
                box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .camera-container {
            margin: 30px auto;
            padding: 20px;
            background-color: #efe7da;
            border-radius: 10px;
        }

        #video-container {
            position: relative;
        }

        video {
            height: auto;
            display: none; /* Initially hide the video element */
            margin-bottom: 20px;
        }

        #capture-button, #close-button, #on-microphone, #off-microphone {
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }

        #capture-button, #on-microphone {
            background-color: #95C623;
            color: white;
            border: none;
        }

        #close-button, #off-microphone {
            background-color: red;
            color: white;
            border: none;
            display: none; /* hide the close button for now*/
        }
    </style>

    <header class="headline">
        <h1><a href="thoughtsquare.html">ThoughtSquare</a></h1>
        <nav>
            <ul>
                <li><a href="profile.html">
                    <svg width="30px" height="30px" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M22 12C22 6.49 17.51 2 12 2C6.49 2 2 6.49 2 12C2 14.9 3.25 17.51 5.23 19.34C5.23 19.35 5.23 19.35 5.22 19.36C5.32 19.46 5.44 19.54 5.54 19.63C5.6 19.68 5.65 19.73 5.71 19.77C5.89 19.92 6.09 20.06 6.28 20.2C6.35 20.25 6.41 20.29 6.48 20.34C6.67 20.47 6.87 20.59 7.08 20.7C7.15 20.74 7.23 20.79 7.3 20.83C7.5 20.94 7.71 21.04 7.93 21.13C8.01 21.17 8.09 21.21 8.17 21.24C8.39 21.33 8.61 21.41 8.83 21.48C8.91 21.51 8.99 21.54 9.07 21.56C9.31 21.63 9.55 21.69 9.79 21.75C9.86 21.77 9.93 21.79 10.01 21.8C10.29 21.86 10.57 21.9 10.86 21.93C10.9 21.93 10.94 21.94 10.98 21.95C11.32 21.98 11.66 22 12 22C12.34 22 12.68 21.98 13.01 21.95C13.05 21.95 13.09 21.94 13.13 21.93C13.42 21.9 13.7 21.86 13.98 21.8C14.05 21.79 14.12 21.76 14.2 21.75C14.44 21.69 14.69 21.64 14.92 21.56C15 21.53 15.08 21.5 15.16 21.48C15.38 21.4 15.61 21.33 15.82 21.24C15.9 21.21 15.98 21.17 16.06 21.13C16.27 21.04 16.48 20.94 16.69 20.83C16.77 20.79 16.84 20.74 16.91 20.7C17.11 20.58 17.31 20.47 17.51 20.34C17.58 20.3 17.64 20.25 17.71 20.2C17.91 20.06 18.1 19.92 18.28 19.77C18.34 19.72 18.39 19.67 18.45 19.63C18.56 19.54 18.67 19.45 18.77 19.36C18.77 19.35 18.77 19.35 18.76 19.34C20.75 17.51 22 14.9 22 12ZM16.94 16.97C14.23 15.15 9.79 15.15 7.06 16.97C6.62 17.26 6.26 17.6 5.96 17.97C4.44 16.43 3.5 14.32 3.5 12C3.5 7.31 7.31 3.5 12 3.5C16.69 3.5 20.5 7.31 20.5 12C20.5 14.32 19.56 16.43 18.04 17.97C17.75 17.6 17.38 17.26 16.94 16.97Z"/>
                        <path d="M12 6.92969C9.93 6.92969 8.25 8.60969 8.25 10.6797C8.25 12.7097 9.84 14.3597 11.95 14.4197C11.98 14.4197 12.02 14.4197 12.04 14.4197C12.06 14.4197 12.09 14.4197 12.11 14.4197C12.12 14.4197 12.13 14.4197 12.13 14.4197C14.15 14.3497 15.74 12.7097 15.75 10.6797C15.75 8.60969 14.07 6.92969 12 6.92969Z"/>
                    </svg>
                </a></li>
                <li><a href="login.html">Login</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="thoughtsquare.html">
                    <svg class="logout" width="25px" height="25px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 12L13 12" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M18 15L20.913 12.087V12.087C20.961 12.039 20.961 11.961 20.913 11.913V11.913L18 9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M16 5V4.5V4.5C16 3.67157 15.3284 3 14.5 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H14.5C15.3284 21 16 20.3284 16 19.5V19.5V19" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a></li>
            </ul>
        </nav>
    </header>

    <section class="container">
        <section class="camera-container">
            <h3>Join the Debate:</h3>
            <p>Select your preferences and start debating!</p>
            <video id="video" autoplay playsinline></video>
            <button id="capture-button"><svg width="30px" height="30px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 10L18.5768 8.45392C19.3699 7.97803 19.7665 7.74009 20.0928 7.77051C20.3773 7.79703 20.6369 7.944 20.806 8.17433C21 8.43848 21 8.90095 21 9.8259V14.1741C21 15.099 21 15.5615 20.806 15.8257C20.6369 16.056 20.3773 16.203 20.0928 16.2295C19.7665 16.2599 19.3699 16.022 18.5768 15.5461L16 14M6.2 18H12.8C13.9201 18 14.4802 18 14.908 17.782C15.2843 17.5903 15.5903 17.2843 15.782 16.908C16 16.4802 16 15.9201 16 14.8V9.2C16 8.0799 16 7.51984 15.782 7.09202C15.5903 6.71569 15.2843 6.40973 14.908 6.21799C14.4802 6 13.9201 6 12.8 6H6.2C5.0799 6 4.51984 6 4.09202 6.21799C3.71569 6.40973 3.40973 6.71569 3.21799 7.09202C3 7.51984 3 8.07989 3 9.2V14.8C3 15.9201 3 16.4802 3.21799 16.908C3.40973 17.2843 3.71569 17.5903 4.09202 17.782C4.51984 18 5.07989 18 6.2 18Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg></button>
            <button id="close-button"><svg width="30px" height="30px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11.65 6H12.8C13.9201 6 14.4802 6 14.908 6.21799C15.2843 6.40973 15.5903 6.71569 15.782 7.09202C16 7.51984 16 8.0799 16 9.2V10L18.5768 8.45392C19.3699 7.97803 19.7665 7.74009 20.0928 7.77051C20.3773 7.79703 20.6369 7.944 20.806 8.17433C21 8.43848 21 8.90095 21 9.8259V14.1741C21 14.679 21 15.0462 20.9684 15.3184M3 3L6.00005 6.00005M21 21L15.9819 15.9819M6.00005 6.00005C5.01167 6.00082 4.49359 6.01337 4.09202 6.21799C3.71569 6.40973 3.40973 6.71569 3.21799 7.09202C3 7.51984 3 8.07989 3 9.2V14.8C3 15.9201 3 16.4802 3.21799 16.908C3.40973 17.2843 3.71569 17.5903 4.09202 17.782C4.51984 18 5.07989 18 6.2 18H12.8C13.9201 18 14.4802 18 14.908 17.782C15.2843 17.5903 15.5903 17.2843 15.782 16.908C15.9049 16.6668 15.9585 16.3837 15.9819 15.9819M6.00005 6.00005L15.9819 15.9819" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg></button>

            <button id="on-microphone"><svg width="30px" height="30px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M19 10V12C19 15.866 15.866 19 12 19M5 10V12C5 15.866 8.13401 19 12 19M12 19V22M8 22H16M12 15C10.3431 15 9 13.6569 9 12V5C9 3.34315 10.3431 2 12 2C13.6569 2 15 3.34315 15 5V12C15 13.6569 13.6569 15 12 15Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg></button>
            <button id="off-microphone"><svg width="30px" height="30px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15 9.4V5C15 3.34315 13.6569 2 12 2C10.8224 2 9.80325 2.67852 9.3122 3.66593M12 19V22M8 22H16M3 3L21 21M5.00043 10C5.00043 10 3.50062 19 12.0401 19C14.51 19 16.1333 18.2471 17.1933 17.1768M19.0317 13C19.2365 11.3477 19 10 19 10M12 15C10.3431 15 9 13.6569 9 12V9L14.1226 14.12C13.5796 14.6637 12.8291 15 12 15Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg></button>

        </section>
    </section>

    <section class="chat">
        <section class="chatheader">
            <p class="chatheader-title">Chatbox</p>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 3H14C18.4183 3 22 6.58172 22 11C22 15.4183 18.4183 19 14 19V22.5C9 20.5 2 17.5 2 11C2 6.58172 5.58172 3 10 3ZM12 17H14C17.3137 17 20 14.3137 20 11C20 7.68629 17.3137 5 14 5H10C6.68629 5 4 7.68629 4 11C4 14.61 6.46208 16.9656 12 19.4798V17Z"></path></svg>
        </section>

        <section class="chatbody">
            <section class="chatcontainer">
                <section class="chatmessage">
                    <p class="chatmessage-from">How can I help?</p>
                    <p class="chatmessage-from">Send me any messages regarding e.g. debating, and any other help you might need.</p>
                    <section id="chatHistory" class="chat-history"></section>
                </section>

                <section class="chat-textfield">
                    <input type="text" id="userInput" placeholder="Type a message..." class="chat-textfield-input">
                    <button class="chat-sendbutton" id= "sendButton" onclick="sendMessage()">Send</button>
                </section>
            </section>
        </section>
    </section>

    <footer class="footer">
        <p>ThoughtSquare 2024</p>
    </footer>

    <script src="chatbot.js"></script>

    <script>
        const video = document.getElementById('video');
        const captureButton = document.getElementById('capture-button');
        const closeButton = document.getElementById('close-button');
    
        // Function to start the camera
        async function startCamera() {
            try {
                // Get access to the camera
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                // Display the stream in the video element
                video.srcObject = stream;
                video.style.display = 'block'; // Show the video element
                captureButton.style.display = 'none'; // Hide the capture button
                closeButton.style.display = 'block'; // Show the close button
            } catch (err) {
                console.error('Error accessing the camera: ', err);
            }
        }
    
        // Function to stop the camera
        function stopCamera() {
            const stream = video.srcObject;
            const tracks = stream.getTracks();
            tracks.forEach(track => track.stop());
            video.srcObject = null;
            video.style.display = 'none'; // Hide the video element
            captureButton.style.display = 'block'; // Show the capture button
            closeButton.style.display = 'none'; // Hide the close button
        }
    
        // Event listener for the capture button
        captureButton.addEventListener('click', startCamera);
    
        // Event listener for the close button
        closeButton.addEventListener('click', stopCamera);

        // ------------------------------

        // Function to start the microphone
        const mic = document.getElementById('mic');
        const onButton = document.getElementById('on-microphone');
        const offButton = document.getElementById('off-microphone');
        // Global variable to store the microphone stream
        let microphoneStream;

        // Function to start the microphone
        async function startMic() {
            try {
                // Get access to the microphone
                microphoneStream = await navigator.mediaDevices.getUserMedia({ audio: true });
                // Do something with the audio stream, like recording or streaming
                // For demonstration purposes, we'll just log the stream to the console
                console.log('Microphone stream:', microphoneStream);
                onButton.style.display = 'none'; // Hide the capture button
                offButton.style.display = 'block'; // Show the close button

            } catch (err) {
                console.error('Error accessing the microphone: ', err);
            }
        }

        // Function to stop the microphone
        function stopMic() {
            if (microphoneStream) {
                const tracks = microphoneStream.getTracks();
                tracks.forEach(track => track.stop());
                console.log('Microphone stopped');
                microphoneStream = null;
                offButton.style.display = 'none'; // Hide the close button
                onButton.style.display = 'block'; // Show the capture button
            } else {
                console.warn('Microphone stream is not available.');
            }
        }

        // Event listener for the capture button
        onButton.addEventListener('click', startMic);

        // Event listener for the close button
        offButton.addEventListener('click', stopMic);
    </script>

    <script src="index.js"></script>
</body>
</html>